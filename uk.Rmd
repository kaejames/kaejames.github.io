---
title: "Battle For Westminister"
output: 
  html_document: 
    toc: true
    toc_float: true
    
    includes:
       in_header: tag.html 
date: "`r format(Sys.Date(), '%m/ %d/ %y')`" 

---

Great Britain[***England,Scotland and Wales***] opinion polling aggregation from public polls for the next general election which will likely be held in  ***winter of 2024 or January 2025***.

---------------------------------


## <span style="color: #f72585;"> Major Political Events in 2022</span>

***Boris Johnson stepped down as Prime Minister on September 5th 2022 after MP Lizz Truss won the conservative leadership poll and was sworn as the new Prime Minister on the 6th***

***On September 23rd 2022, PM Liz Truss and Chancellor of the Exchequer Kwasi Kwarteng announced economic policies that were refereed to as a "mini budget". The stock market didn't like the new policies and the sterling pound dropped to it's lowest against the dollar since the 1980's. This caused the Conservative party to drop in polls, to it's lowest since the late 90's ahead on 1997 Labor landslide victory***. 

***On October 14th 2022, PM Truss fired/sacked Chancellor of the Exchequer Kwasi Kwarteng in the morning after returning from Washington D.C where he held talks with IMF. Jeremy Hunt was appointed Chancellor of the Exchequer***

***On October 19th 2022, right winger Home Secretary Suella Braveman was fired/sacked by PM Truss for email breach and replaced by moderate MP Grant Shapps in a sign the Truss government was moving away from the right and to the middle***

***On October 20th 2022, Prime Minister Truss announced her resignation as the leader Conservative party leader and the premiership. She became the shortest serving PM in the United Kingdom history at only 44 days***

***On October 24th 2022, MP Rishi Sunak won the snap conservative leadership election among the MP's which automatically made him the Prime Minister to replace the outgoing Lizz Truss. Sunak became the first ethnic leader of the United Kingdom history***

***On March 28th 2023, Humza Yousaf became the First Minister of Scotland replacing Nicola Sturgeon***


```{r setup, include=FALSE}
library(dygraphs)
library(flexdashboard)  
library(readxl)
library(ggplot2)
library(plotly)
library(knitr)
library(plyr)
library(scales) 
library(lubridate) 
library(dplyr)
library(DT)
```

```{r, echo=FALSE}
ukpolls<-read_excel(("~/Documents/RSTUDIO/kaejames.github.io/GreatBritain.xlsx"), sheet = "chart", col_types = c("date", 
        "numeric", "text", "numeric")) 
knitr::opts_chunk$set(error = TRUE)
```

```{r, echo=FALSE}
tablepol<-read_excel(("~/Documents/RSTUDIO/kaejames.github.io/GreatBritain.xlsx"), sheet = "table") 
knitr::opts_chunk$set(error = TRUE)
```

## <span style="color: #4361ee;"> Polling Aggregate </span> 

```{r,out.width='100%', echo=FALSE}  
p<-ggplot(ukpolls,mapping=aes(x=Date, y=Aggregate,colour=Party, group=Party))+
  geom_line(lwd=1.5)+
  
  labs(x="", y="", title = "")+
  scale_color_manual(values =c("deepskyblue","green", "red", "orange","yellow")) +
  theme(plot.title = element_text(color = "black", family = "Ubuntu",  size = 17, face="bold", hjust = 0),
        plot.caption = element_text(color = "black", size=13, face = "italic", family = "Ubuntu"),
        legend.text = element_text(face = "bold"),axis.title.x = element_text(family = 'Ubuntu', face = 'bold'),
        axis.text.x = element_text(face = 'bold', angle = 0, hjust = 0.5),axis.text.y = element_text(face = "bold"),
        plot.subtitle = element_text(color = "black",family="Ubuntu", size = 13)) +
  scale_y_continuous(limits = c(0,55))
  
 ggplotly(p, tooltip =c("Aggregate", "Date"),source = "james")

```


<br>

### <span style="color: #4361ee;"> Seats Predictions </span>  

<br>


```{r,out.width='100%', echo=FALSE}
datatable(tablepol,extensions = 'Buttons',rownames = FALSE, options = list(
    dom = 'Bfrtip',
    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')
  )
) %>%
  formatStyle(
    'Party',
    fontWeight = 'bold',
    backgroundColor = styleEqual(
      unique(tablepol$Party), c('deepskyblue','red', 'orange','green','yellow')
    )
  ) 
```
